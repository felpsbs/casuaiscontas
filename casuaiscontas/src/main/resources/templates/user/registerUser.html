<!DOCTYPE html>
<html 
    lang="pt-BR"
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:th="http://www.thymeleaf.org"
    xmlns:casuaiscontas="http://casuaiscontas.com"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <title>Casuais Contas</title>

        <link rel="stylesheet" th:href="@{/css/vendors/bootstrap.min.css}">
        <link rel="stylesheet" th:href="@{/css/vendors/bootstrap-datepicker.standalone.min.css}">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
        
        <link rel="stylesheet" th:href="@{/css/base.css}">
        <link rel="stylesheet" th:href="@{/css/layout.css}">
        <link rel="stylesheet" th:href="@{/css/compenents.css}">
        
        
        <link rel="shortcut icon" th:href="@{/img/favicon.jpg}"/>
    </head>
    <body>

        <header class="layout-navbar">

            <nav class="navbar  navbar-expand-md  navbar-light  bg-light">
                <div class="container">
                  
                    <a href="#" class="navbar-brand">
                        <img th:src="@{/img/logo.png}" class="logo" alt="CasuaisContas">
                    </a>
                    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#menu">
                        <span class="navbar-toggler-icon"></span>
                    </button>             
                    
                    <div class="collapse  navbar-collapse  menu" id="menu">
                        <ul class="navbar-nav  mr-auto">
                            <li class="nav-item">
                                <a href="#" class="nav-link">Contas</a>
                            </li>
                            <li class="nav-item">
                                <a href="#" class="nav-link">Despesas</a>
                            </li>                            
                        </ul>
                        
                        <ul class="navbar-nav">
                            <li class="nav-item dropdown">
                                <a href="#" data-toggle="dropdown" class="nav-link  dropdown-toggle">Minha Conta</a>
                                
                                <div class="dropdown-menu  perfil" aria-labelledby="navbarDropdown">
                                    <a class="dropdown-item" href="#">Alterar Perfil</a>
                                    <a class="dropdown-item" href="#">Alterar Senha</a>
                                    <div class="dropdown-divider"></div>
                                    <a class="dropdown-item" href="#">Sair</a>                                
                                </div>

                              </li>                                                      
                        </ul>
                    </div>
                    
                </div>
            </nav>

        </header>

        <div class="layout-sign-in">
            
            <div class="container">

                <header class="header">
                    <h1 class="header__title">Cadastro</h1>                                  
                </header>
                
                <form th:action="@{/usuarios/novo}" method="post" th:object="${user}">

                    <!-- Isso daqui vai sair, vai virar um fragment depois -->

                    <div class="alert  alert-danger  alert-dismissible" role="alert" th:if="${#fields.hasAnyErrors()}" th:fragment="alert">
                        <button type="button" class="close" data-dismiss="alert" ><span aria-hidden="true">&times;</span></button>
                        <th:block th:each="detailedError : ${#fields.detailedErrors()}">
                            	<div><i class="fa  fa-exclamation-circle"></i> [[${detailedError.message}]]</div>
                        </th:block>
                    </div>
                    
                    <!-- Isso daqui vai sair, vai virar um fragment depois -->
                            
                    <div class="row">
                        <div class="form-group  col-sm-6  cc-required">
                            <label for="name" class="control-label"><b>Nome</b></label>
                            <input type="text" id="name" class="form-control  form-input" th:field="*{name}" casuaiscontas:classforerror="name">                            
                        </div>

                        <div class="form-group  col-sm-6  cc-required"> 
                            <label for="email" class="control-label"><b>Email</b></label>                                                
                            <input type="email" id="email" class="form-control  form-input"th:field="*{email}" casuaiscontas:classforerror="email">
                        </div>                    
                    </div>
                    
                    <div class="row">
                        <div class="form-group  col-sm-4  cc-required">
                            <label for="phone" class="control-label"><b>Telefone</b></label>
                            <input type="text" id="phone" class="form-control  form-input  js-phone" th:field="*{phone}" casuaiscontas:classforerror="phone">
                        </div>

                        
                        <div class="form-group  col-sm-4  js-datepicker-container  cc-required">
                            <label for="birthDate" class="control-label"><b>Data de nascimento</b></label>                        
                            <input type="text" id="birthDate" class="form-control  form-input  js-date" th:field="*{birthdate}" casuaiscontas:classforerror="birthdate" autocomplete="off">                                                        
                        </div>

                        <div class="form-group  col-sm-4  cc-required">
                            <label for="cpf" class="control-label"><b>CPF</b></label>
                            <input type="text" id="cpf" class="form-control  form-input  js-cpf" th:field="*{cpf}" casuaiscontas:classforerror="cpf">
                        </div>
                    </div>
                    
                    <div class="row">                        
                        <div class="form-group  col-sm-4  cc-required">
                            <label for="cep" class="control-label"><b>CEP</b></label>
                            <input type="text" id="cep" class="form-control  form-input  js-cep" th:field="*{address.cep}" casuaiscontas:classforerror="address.cep">
                        </div>
                    
                        <div class="form-group  col-sm-6  col-md-4  col-lg-4">
                            <label for="state" class="control-label"><b>Estado</b></label>
                            <select id="state" class="form-control  form-input" th:field="*{address.state}">
                                <option value="">Selecione uma Estado</option>
                                <option th:each="state : ${states}" th:value="${state.id}" th:text="${state.name}">Minas Gerais</option>
                            </select>
                        </div>

                        <div class="form-group  col-sm-6  col-md-4 col-lg-4  cc-required">
                            <label for="city" class="control-label"><b>Cidade</b></label> 
                            <input type="hidden" id="selectedCityId" th:value="*{address.city} != null ? *{address.city.id}">                           
                            <select id="city" class="form-control  form-input" th:field="*{address.city}" casuaiscontas:classforerror="address.city" disabled>
                                <option value="">Selecione uma cidade</option>                                
                            </select>
                        </div>
                    </div>

                    <div class="row">
                        <div class="form-group  col-sm-4  cc-required">
                            <label for="password" class="control-label"><b>Senha</b></label>
                            <input type="password" id="password" class="form-control  form-input" th:field="*{password}" casuaiscontas:classforerror="password">
                        </div>

                        <div class="form-group  col-sm-4">
                            <label for="confirmPassword" class="control-label"><b>Confirmar senha</b></label>
                            <input type="password" id="confirmPassword" class="form-control  form-input" th:field="*{confirmPassword}" casuaiscontas:classforerror="confirmPassword">
                        </div>                       
                    </div>   
                    
                    <footer>
                        <div class="layout-botao-sign-in">
                            <button type="submit" class="btn  btn-primary  botao">Cadastrar</button>
                        </div>
                    </footer> 
                    
                </form>

            </div>

        </div>

        <footer class="layout-footer"> 
            <div class="container-fluid">                
                <p>&copy; 2020 Casuais Contas. Todos os direitos reservados</p>
            </div>
        </footer>

        <!-- Geral -->
        <script th:src="@{/js/vendors/jquery-3.5.1.min.js}"></script>
        <script th:src="@{/js/vendors/jquery.mask.min.js}"></script>
        <script th:src="@{/js/vendors/bootstrap.min.js}"></script>
        
        <!-- Só dessa página -->
        <script th:src="@{/js/vendors/bootstrap-datepicker.min.js}"></script>
        <script th:src="@{/js/vendors/bootstrap-datepicker.pt-BR.min.js}"></script>        

        <!-- Criados por mim -->
        <script th:src="@{/js/user.state-city-combo.js}"></script>
        <script th:src="@{/js/casuaiscontas.js}"></script>

    </body>
</html>